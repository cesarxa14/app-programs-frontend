<div class="container border mt-3" *ngIf="roleId == 1">
  <div>
      <h1>Registro de Asistencias - Panel de Administrador</h1>
  </div>

  <div class="row my-2 mx-1">
    <div class="col">
      <a  class="item-sidenav" mat-list-item routerLink="/pages/assistance/historial">
        Ver historial
      </a>
    </div>
  </div>

  <div class="row mx-2 p-1 card">
      <div class="col">
        <h3>Buscar Alumno</h3>
        <p class="opacity-50">Ingrese el nombre o DNI del alumno para registrar sus asistencia</p>
      </div>

      <div class="mb-3">
        <div class="form-check form-switch">
            <input 
              class="form-check-input" 
              type="checkbox" 
              role="switch" 
              (change)="changeToggle($event)"
              id="flexSwitchCheckDefault" >
            <label class="form-check-label" for="flexSwitchCheckDefault">{{labelFilterInput}}</label>
        </div>
      </div>

      <div class="row d-flex justify-content-between align-items-center my-3">
        <div id="1" class="col-md-9">
            <form [formGroup]="searchForm">
                <div class="">
                    <input [placeholder]="stringSwitchFilter" type="email" formControlName="search" class="form-control"
                            [ngClass]="search.errors && (search.dirty || search.touched) ? 'is-invalid': ''">
                </div>
            
            </form>
        </div>
        <div id="2" class="col-md-2 text-center">
          <button class="btn btn-dark" (click)="searchStudent()">Buscar</button>
        </div>
      </div>

      <div class="row m-1" *ngIf="customersFoundList.length > 0">
        
        <form [formGroup]="createAssistForm" (ngSubmit)="createAssist()">

            <div class="col-12 mb-3">
                <label class="form-label">Alumno</label>
                <select class="form-select" formControlName="customer" (change)="onChangeSelectCustomer($event)">
                    <option *ngFor="let cus of customersFoundList" [ngValue]="cus">{{cus.name}} {{cus.lastname}}</option>
                    
                </select>
            </div>

            <div class="col-12 mb-3">
              <label class="form-label">Programa</label>
              <select class="form-select" formControlName="program">
                  <option *ngFor="let prog of programList" [ngValue]="prog">{{prog.program_name}}</option>
                  
              </select>
          </div>

            

            <div class="col-md-12 mb-3">
                <label class="form-label">Notas adicionales</label>
                <textarea type="text" formControlName="additional_notes" class="form-control"
                        [ngClass]="additional_notes.errors && (additional_notes.dirty || additional_notes.touched) ? 'is-invalid': ''">
                </textarea>
                <div *ngIf="additional_notes.hasError('required')" class="invalid-feedback">
                    Este campo es requerido 
                </div>
            </div>

            <div class="row justify-content-center text-center">
                <div class="col">
                    <button [disabled]="createAssistForm.invalid" type="submit" class="btn btn-dark w-100">Registrar</button>
                </div>
            </div>
        </form>

    </div>

  </div>
</div>

<!-- <div class="container border mt-3" *ngIf="roleId == 3">
  <div>
      <h1>Registro de Asistencias - Panel de Cliente</h1>
  </div>

  <div class="row my-2 mx-1">
    <div class="col">
      <a  class="item-sidenav" mat-list-item routerLink="/pages/assistance/historial">
        Ver historial
      </a>
    </div>
  </div>

  <div class="row mx-2 p-1 card">


      <div class="row m-1">
        
        <form [formGroup]="createAssistCustomerForm" (ngSubmit)="createAssistCustomer()">


            <div class="col-12 mb-3">
              <label class="form-label">Programa</label>
              <select class="form-select" formControlName="program2">
                  <option *ngFor="let prog of programList" [ngValue]="prog">{{prog.program_name}}</option>
              </select>
            </div>

            <div class="col-md-12 mb-3">
                <label class="form-label">Notas adicionales</label>
                <textarea type="text" formControlName="additional_notes2" class="form-control"
                        [ngClass]="additional_notes2.errors && (additional_notes2.dirty || additional_notes2.touched) ? 'is-invalid': ''">
                </textarea>
            
            </div>

            <div class="row justify-content-center text-center">
                <div class="col">
                    <button [disabled]="createAssistCustomerForm.invalid" type="submit" class="btn btn-dark w-100">Registrar</button>
                </div>
            </div>
        </form>

    </div>

  </div>
</div> -->